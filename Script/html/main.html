<html>
<body>
<div id = myDiv>
</div>

<script>
	function loadXMLDoc() {
		var xmlhttp = new XMLHttpRequest();
		
		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == XMLHttpRequest.DONE) {   // XMLHttpRequest.DONE == 4
				if (xmlhttp.status == 200) {
					if (xmlhttp.responseText.indexOf("/*eval*/")==0)
					{
						//alert(xmlhttp.responseText);
						eval(xmlhttp.responseText);
						
					}
					else
					{
						document.getElementById("myDiv").innerHTML = xmlhttp.responseText;
						xmlhttp.open("GET", "http://localhost:8083/oachkatzlschwoaf0815_getWindowContent", true); // this means get SVG or whatever you want to put into a page, and evaluate the code
						xmlhttp.send();
					}
				}
				else if (xmlhttp.status == 400) {
					//alert('There was an error 400');
				}
				else {
					//alert('something else other than 200 was returned');
				}
			}
		};
		
		xmlhttp.open("GET", "http://localhost:8083/oachkatzlschwoaf0815", true); // oachkatzlschwoaf0815 means get current "empty" page (just menu and title bar, no contents)
		xmlhttp.send();
	}

	loadXMLDoc();
</script>

</body>
</html>
